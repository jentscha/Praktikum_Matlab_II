% =================================================================================
% Hier auswählen, ob TUD-Design oder nicht
% =================================================================================
\newif\ifTUDdesign
\TUDdesigntrue					% TUD-Design
%\TUDdesignfalse				% Für Rechner ohne installierte TUDdesign-Pakete
% =================================================================================


% =================================================================================
% Hier Daten für studentische Arbeit eingeben
% =================================================================================
\newcommand{\SADATyp}{Praktikumsbericht}
\newcommand{\SADATitel}{Versuch II: Linearisierung, Steuerbarkeit und Beobachtbarkeit}
\newcommand{\SADAStadt}{Darmstadt}
\newcommand{\SADAAutor}{Andreas Jentsch, Ali Kerem Sacakli}
\newcommand{\SADABetreuer}{}
\newcommand{\SADABetreuerII}{}
\newcommand{\SADABetreuerIII}{}
\newcommand{\SADABegin}{}
\newcommand{\SADAAbgabe}{Praktikum Matlab/Simulink II}
\newcommand{\SADASeminar}{}
% =================================================================================


% =================================================================================
% Auswahl des IAT-Fachgebiets (rtm / rtp)
% =================================================================================
\newif\ifrtm
\rtmtrue	% rtm
%\rtmfalse	% rtp
% =================================================================================


% =================================================================================
% Erklärung, dass die Arbeit ohne Hilfe Dritter etc. erstellt wurde
% =================================================================================
\def\SADAVarianteErklaerung{ETIT}		% FB 18, Elektrotechnik
%\def\SADAVarianteErklaerung{MBDA}		% FB 16, Maschinenbau, Diplomarbeit
%\def\SADAVarianteErklaerung{MBSA}		% FB 16, Maschinenbau, Studienarbeit
% =================================================================================


% =================================================================================
% Ausnahmen von der automatischen Silbentrennung
% =================================================================================
\hyphenation{Aktu-ali-sie-rung Screen-shots Pa-rallel-ro-bo-ter Zu-stands-raum-mo-del-le nach-voll-zieh-bar Pro-jekt-se-mi-nar}
% =================================================================================


% =================================================================================
% Hier NIICHTS ändern!
% =================================================================================
\ifTUDdesign
	\documentclass[11pt, twoside, colorback, accentcolor=tud2c, nopartpage, bigchapter, fleqn, ngerman, longdoc]{tudreport}
\else
	\documentclass[11pt, a4paper, twoside, fleqn, ngerman]{scrreprt}
  % Für Entwurf auf Rechnern ohne installierte TUDdesign-Pakete	
	\usepackage{exscale}	% Korrektur math-Zeichen
	\usepackage{eurosym}
\fi
%eps-plot von Matlab in pdf umwandeln, um diese einbinden zu können
\usepackage{epstopdf}
%Paket listings für das Einbinden von Quelltext
\usepackage{listings}
%Stil Matlab_colored definieren
\lstdefinestyle{Matlab_colored}
{
	language = Matlab,
	tabsize = 4,
	framesep = 3mm,
	frame = tb,
	classoffset = 0,
	basicstyle = \ttfamily,
	keywordstyle = \bfseries\color[rgb]{0,0,1},
	commentstyle = \itshape\color[rgb]{0.133,0.545,0.133},
	stringstyle = \color[rgb]{0.672,0.126,0.941},
	extendedchars = true,
	breaklines = true,
	prebreak = \textrightarrow,
	postbreak = \textleftarrow,
	numbers = left,
	numberstyle = \tiny,
	stepnumber = 5
}


\input{common/includes.tex}				% verwendete Pakete einbinden
\input{common/setup.tex}					% LaTeX-Einstellungen
\input{common/commonmacros.tex}		% oft verwendete Befehle
% =================================================================================


% =================================================================================
% Hier beginnt das eigentliche Dokument
% =================================================================================

\begin{document}
%\input{common/preface.tex} % Titelseite, Aufgabenstellung, Erklärung, Abstract, Inhaltsverzeichnis, etc.
\maketitle

\setcounter{chapter}{2}

%Warum geht title/section nicht?
\section{Lienarisierung}
Im folgenden Abschnitt wird die Funktion zur Linearisierung des Doppelpendel-Systems um einen Arbeitspunkt, sowie ihre Rückgabewerte an bestimmten Arbeitspunkten dokumentiert. Die Implementierung der Funktion ist in \autoref{Code_Linearisierung} aufgeführt.

Bevor das System linearisiert wird sind zwei Fragen zu klären:
\begin{enumerate}
	\item Welche Arbeitspunkte sind sinnvoll?
	\item Was bedeutet es physikalisch, wenn $M_{\textrm{AP}}$ ungleich null ist?
\end{enumerate}
Die Antworten lauten wie folgt:
\begin{enumerate}
	\item Es ist nur sinnvoll das System in Arbeitspunkten zu linearisieren, in denen es sowohl vollständig beobachtbar, als auch steuerbar ist.
	\item Bei der Größe $M_{\textrm{AP}}$ handelt es sich um den statischen Wert der Stellgröße $M$ im Arbeitspunkt. Ist diese ungleich null muss der Motor das Moment $M_{\textrm{}}$ 
\end{enumerate}

\lstinputlisting[style=Matlab_colored,caption={Code der Linearisierungsfunktion}, label={Code_Linearisierung}]{Codes/linearisierung.m}

Die Linearisierung um die Arbeitspunkte
\begin{align*}
	\textbf{x}_{\textrm{AP}_1} &= \begin{bmatrix} 0 & 0 & 0 & 0\end{bmatrix}\\
	\textbf{x}_{\textrm{AP}_2} &= \begin{bmatrix} \pi & 0 & \pi & 0\end{bmatrix}\\
	\textbf{x}_{\textrm{AP}_3} &= \begin{bmatrix} \pi/2 & 0 & \pi & 0 \end{bmatrix}
\end{align*}
ergibt für die allgmeine Zustandsraumdarstellung:
\begin{align*}
	\textbf{\.{x}} &= \textbf{Ax + Bu}\\
	\textbf{y} &= \textbf{Cx + Du}
\end{align*}
die folgenden Systemmatrizen:
\begin{align*}
\textbf{A}_{\textrm{AP}_1} &= \begin{bmatrix} 0& 0 & 0& 0 \end{bmatrix}&
\textbf{B}_{\textrm{AP}_1} &= \begin{bmatrix} 0& 0 & 0 & 0 \end{bmatrix}\\
\end{align*}
\section{Vergleich der Linearisierten Modelle}

\section{Normalformen des Zustandsraummodelles}

\section{Untersuchung von Steuerbarkeit und Beobachtbarkeit}
\end{document}
